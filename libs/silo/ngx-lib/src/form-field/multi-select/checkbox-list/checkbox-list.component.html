<div
  class="silo-checkbox-list"
  [class.silo-checkbox-list--is-readonly]="isReadOnly"
  [class.silo-checkbox-list--is-required]="isRequired"
  [class.silo-checkbox-list--is-filled]="
    isRequired && formGroup.dirty && formGroup.valid
  "
  [class.silo-checkbox-list--has-error]="
    isRequired && formGroup.touched && formGroup.invalid
  "
  [siloResponsiveContainer]="fieldSize"
>
  <silo-label [labelId]="labelId" [label]="label"></silo-label>
  <div
    class="silo-form-field-outline-container"
    [siloResponsiveContainer]="outlineSize"
  >
    <div class="silo-form-field-input-container">
      <mat-selection-list
        [attr.aria-labelledby]="labelId"
        [attr.aria-describedby]="describebyId"
        [formControl]="valueFormControl"
        [compareWith]="compareWith"
        [required]="isRequired"
      >
        <mat-list-option
          *ngFor="let option of options"
          checkboxPosition="before"
          [value]="option"
          [disabled]="isReadOnly && !isSelected(option)"
        >
          {{ option.displayName }}
        </mat-list-option>
      </mat-selection-list>
    </div>
  </div>
  <div [id]="describebyId" class="silo-form-field-message-container">
    <span
      class="mat-hint"
      *ngIf="hint && !(valueFormControl.touched && valueFormControl.invalid)"
    >
      {{ hint }}
    </span>
    <span
      class="mat-error"
      role="alert"
      *ngIf="valueFormControl.touched && valueFormControl.invalid"
    >
      {{ getErrorMessage() }}
    </span>
  </div>
</div>
